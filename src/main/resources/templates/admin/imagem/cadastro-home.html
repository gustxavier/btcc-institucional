<!DOCTYPE html>
<html layout:decorate="~{/admin/template}">
<head>
<meta charset="UTF-8" />
</head>
<body>
	<section class="layout-content" layout:fragment="corpo">

		<nav class="navbar navbar-expand-md bg-light">
			<div class="collapse navbar-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active"><i class="oi oi-caret-right"></i>
						<span>Imagens Home</span></li>
				</ul>
			</div>
			<a class="btn btn-primary btn-md" href="/admin/imagens/listar-home"
				role="button"> <span class="oi oi-spreadsheet" title="Cadastro"
				aria-hidden="true"></span> <span>Listar Imagens - Home</span>
			</a>
		</nav>

		<div class="container" id="upload-imagem">

			<div th:replace="admin/fragments/alert"></div>

			<form method="POST" th:action="${imagem.id == null} ? @{/admin/imagens/salvar-home} : @{/admin/imagens/editar-home}"
				th:object="${imagem}" 
				enctype="multipart/form-data">
				<div class="form-row">
					<div class="form-group col-md-8">
						<div class="image">
							<img th:src="${imagem.titulo == null} ? @{/image/no-image.png} : @{'/uploads/site/imagens/' + ${imagem.titulo}}">
						</div>
						<span><small>Formato de imagem permitido: .png</small></span> <br />
						<span><small>Dimensões: 730x815 pixels</small></span> <br />
						<input type="file" class="form-control" id="imagem"
							placeholder="título" autofocus="autofocus" name="file" accept=".png" />
					</div>
				</div>	
				<div class="form-row">
					<div class="form-group col-md-3">
					<label>Local onde a imagem deve aparecer:</label>
						<select class="form-control" autofocus="autofocus" th:field="*{local}">
							<option th:if="${imagem.local} == null" value="" selected="selected">Selecione um local</option>
							<optgroup label="---------------">
							    <option th:each="local : ${T(com.btcc.institucional.domain.ImagemLocal).values()}"
							            th:value="${local.local}"
							            th:text="${local}">
							    </option>
						    </optgroup>
						</select>
					</div>
				</div>			
				<input type="hidden" id="id" th:field="*{id}" />
				<input type="hidden" id="file" th:field="*{titulo}" />
<!-- 				<input type="hidden" id="file" th:field="*{local}" /> -->
				<input type="hidden" id="file" th:field="*{tipo}" />
				<button type="submit" class="btn btn-primary btn-sm">Salvar</button>
			</form>
		</div>
	</section>
</body>
</html>
